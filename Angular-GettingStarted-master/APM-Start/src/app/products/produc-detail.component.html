<div class='panel panel-primary' *ngIf='product'>
  <div class='panel-heading'>
      {{pageTitle + ': ' + product.productName}}
  </div>
<form  (ngOnSubmit)="onSave()"> 
  <div class='panel-body'>
      <div class='row'>
          <div class='col-md-10'>
              <div class='row'>
                  <div class='col-md-10'>
                    <mat-form-field hintLabel="Max 30 characters">
                        <input matInput name="productName" [(ngModel)]="product.productName" #input placeholder="Name" maxlength="30"  >
                        <mat-hint align="end">{{input.value?.length || 0}}/30</mat-hint>
                    </mat-form-field>
                    </div>
              </div>
              <div class='row'>               
                  <div class='col-md-10'>                      
                    <!-- {{product.productCode | lowercase | convertToSpaces: '-'}} -->
                    <mat-form-field>
                            <input matInput disabled placeholder="Code" value='{{product.productCode}}' >
                        </mat-form-field>
                    </div>                
              </div>
              <div class='row'>
                    <div class='col-md-10'>                      
                        <mat-form-field>
                                <input matInput name="description" [(ngModel)]="product.description" placeholder="Description"   >
                        </mat-form-field>
                                                
                        <div *ngIf="!productDesc!.valid && (productDesc!.dirty || productDesc!.touched)" class="alert alert-danger" style="float:right" >

                                <div *ngIf="productDesc!.errors.required">
                                    Name is required.
                                </div>
                                <div *ngIf="productDesc!.errors.minlength">
                                    Name must be at least 4 characters long.
                                </div>
                        </div>

                    </div>
              </div>
              <div class='row'>
                  <div class='col-md-10'>{{product.releaseDate}}</div>
              </div>

              <div class='row'>
                
                  <div class='col-md-10'>
                    <mat-form-field>
                        <input matInput name="price" [(ngModel)]="product.price" class="form-control" placeholder="Price"  type="number" class="example-right-align">
                        <span matPrefix>$&nbsp;</span>
                        <!-- <span matSuffix>.00</span> -->
                    </mat-form-field>
                </div>

              </div>
              <div class='row'>
                  <div class='col-md-10'>
                      <pm-star [rating]='product.starRating'>
                      </pm-star>
                  </div>
              </div>
          </div>

          <div class='col-md-2'>
              <img class='center-block img-responsive' 
                   [style.width.px]='200' 
                   [style.margin.px]='2' 
                   [src]='product.imageUrl'
                   [title]='product.productName'>
          </div>
      </div>
  </div>

    <div class='panel-footer' style="float:left">

        <button class='btn btn-default' (click)='onBack()' style='width:80px'>
          <i class='glyphicon glyphicon-chevron-left'></i> Back
        </button>


        <!-- <button type="button" (click)="onSave(productForm.value)">Submit</button> -->

        <button type="button"  class='btn btn-default'  style='width:80px' (click)="onSave(productForm.value)" >
                <!-- [disabled]="!productForm.dirty || !productForm.valid" -->
          Save <i class='glyphicon glyphicon-chevron-right'></i>
        </button>

    </div>
</form>
</div>